噫 Starting Notion Reward Setup...
Target Database ID: 2c085ee9-6e03-8181-86cc-d96b0bc2f586

[1/3] Verifying Schema...
--- Current Database Schema ---
  is_active: [checkbox] (ID: EdTb)
  description: [rich_text] (ID: G%3Bog)
  is_repeatable: [checkbox] (ID: LvYY)
  order: [number] (ID: %5EXc%3F)
  points_required: [number] (ID: jqvF)
  Related to Botarhythm Point History (reward): [relation] (ID: onaA)
  title: [rich_text] (ID: %7D%5EeP)
  reward_id: [title] (ID: title)
-------------------------------
  笨・Property exists: reward_id
  笨・Property exists: points_required
  笨・Property exists: is_active
  笨・Property exists: is_repeatable
  笨・Property exists: order
  笨・Property exists: description
  Schema is up to date.

[2/3] Upserting Reward Data...
  邃ｹ・・Title property determined as: 'reward_id'
  笨ｨ Creating 繧ｳ繝ｼ繝偵・1譚ｯ 辟｡譁吝虻...
@notionhq/client warn: request fail {
  code: 'validation_error',
  message: 'reward_id is expected to be title.'
}
APIResponseError: reward_id is expected to be title.
    at buildRequestError (C:\Users\seamo\Documents\cursor\userhistory\node_modules\@notionhq\client\src\errors.ts:240:12)
    at Client.request (C:\Users\seamo\Documents\cursor\userhistory\node_modules\@notionhq\client\src\Client.ts:224:32)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async setupRewards (C:\Users\seamo\Documents\cursor\userhistory\scripts\setup-notion-rewards.ts:127:13) {
  code: 'validation_error',
  status: 400,
  headers: Headers {
    [Symbol(map)]: [Object: null prototype] {
      date: [Array],
      'content-type': [Array],
      'content-length': [Array],
      connection: [Array],
      server: [Array],
      'cf-ray': [Array],
      'cf-cache-status': [Array],
      etag: [Array],
      'strict-transport-security': [Array],
      vary: [Array],
      'content-security-policy': [Array],
      'referrer-policy': [Array],
      'x-content-type-options': [Array],
      'x-dns-prefetch-control': [Array],
      'x-download-options': [Array],
      'x-frame-options': [Array],
      'x-notion-request-id': [Array],
      'x-permitted-cross-domain-policies': [Array],
      'x-xss-protection': [Array],
      'set-cookie': [Array],
      'alt-svc': [Array]
    }
  },
  body: '{"object":"error","status":400,"code":"validation_error","message":"reward_id is expected to be title.","request_id":"a5814665-ddd8-4d17-8730-3ebf55a9bbef"}'
}
